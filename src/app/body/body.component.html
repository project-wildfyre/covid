<div flex layout="row">
  <mat-card flex>
    <mat-form-field>
      <mat-label>Select a region</mat-label>
      <mat-select (selectionChange)="selected($event)" value="E92000001" required>
        <mat-option value="E92000001">England</mat-option>
        <mat-option value="E12000001">North East</mat-option>
        <mat-option value="E12000002">North West</mat-option>
        <mat-option value="E12000003">Yorkshire and The Humber</mat-option>
        <mat-option value="E12000004">East Midlands</mat-option>
        <mat-option value="E12000005">West Midlands</mat-option>
        <mat-option value="E12000006">East of England</mat-option>
        <mat-option value="E12000007">London</mat-option>
        <mat-option value="E12000008">South East</mat-option>
        <mat-option value="E12000009">South West</mat-option>
      </mat-select>
    </mat-form-field>
  </mat-card>
</div>
<div *tdLoading="'overlayStarSyntax'; mode:'indeterminate'; type:'circle'; strategy:'overlay'; color:'accent'">
  <div flex layout="row">


<mat-card flex>
            <ngx-charts-line-chart
              flex
              [view]="view"
              [scheme]="colorScheme"
              [legend]="legend"
              [showXAxisLabel]="showXAxisLabel"
              [showYAxisLabel]="showYAxisLabel"
              [xAxis]="xAxis"
              [yAxis]="yAxis"
              [xAxisLabel]="xAxisLabel"
              yAxisLabel='Total Cases'
              [timeline]="timeline"
              [results]="multiTotalCases"
              (select)="onSelect($event)"
              (activate)="onActivate($event)"
              (deactivate)="onDeactivate($event)"
            >
            </ngx-charts-line-chart>
  </mat-card>
    <mat-card flex>

             <ngx-charts-line-chart
                flex
                [view]="view"
                [scheme]="colorScheme"
                [legend]="legend"
                [showXAxisLabel]="showXAxisLabel"
                [showYAxisLabel]="showYAxisLabel"
                [xAxis]="xAxis"
                [yAxis]="yAxis"
                [xAxisLabel]="xAxisLabel"
                yAxisLabel='Cases/Million'
                [timeline]="timeline"
                [results]="multiCasesPerMillion"
                (select)="onSelect($event)"
                (activate)="onActivate($event)"
                (deactivate)="onDeactivate($event)"
              >
              </ngx-charts-line-chart>

    </mat-card>
</div>
  <div layout="row">
    <mat-card>
      <table fxFill="100" mat-table matSort (matSortChange)="sortData($event)" [dataSource]="dataSource" class="mat-elevation-z8">


        <ng-container matColumnDef="id" >
          <th mat-header-cell *matHeaderCellDef> No. </th>
          <td mat-cell *matCellDef="let report"> {{report.id}} </td>
        </ng-container>

        <ng-container matColumnDef="display">
          <th mat-header-cell  *matHeaderCellDef> Area </th>
          <td mat-cell *matCellDef="let report"> {{report.subject.display}} </td>
        </ng-container>

        <ng-container matColumnDef="count">
          <th mat-header-cell  *matHeaderCellDef> Population </th>
          <td mat-cell *matCellDef="let report"> {{report.group[0].population[0].count}} </td>
        </ng-container>

        <ng-container matColumnDef="value">
          <th mat-header-cell *matHeaderCellDef> Cases </th>
          <td mat-cell *matCellDef="let report"> {{report.group[0].measureScore.value}} </td>
        </ng-container>

        <ng-container matColumnDef="casespermillion">
          <th mat-header-cell *matHeaderCellDef> Cases / Million </th>
          <td mat-cell *matCellDef="let report"> {{round(report.group[1].measureScore.value)}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </mat-card>
  </div>
</div>
